<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>03手风琴</title>
    <style>
        * {
            margin: 0;
            padding: 0;
        }

        #box {
            margin: 100px auto;
        }

        .cons {
            width: 120px;
            margin: auto;
        }

        .cons h1 {
            width: 120px;
            height: 40px;
            line-height: 40px;
            text-align: center;
            background: pink;
            cursor: pointer;
            font-size: 18px;
            font-weight: lighter;
            border: 1px solid #000;
        }

        .cons ul {
            width: 120px;
            height: 0;
            overflow: hidden;
            background: #58bc58;
            opacity: .5;
        }

        .cons ul li {
            width: 120px;
            height: 30;
            background: #999;
            line-height: 40px;
            text-align: center;
        }
    </style>
</head>
<script src="../js/comm.js"></script>

<body>
    <div id="box">
        <div class="cons">
            <h1>体育</h1>
            <ul>
                <li>体育1</li>
                <li>体育2</li>
                <li>体育3</li>
                <li>体育1</li>
                <li>体育2</li>
                <li>体育3</li>
            </ul>
        </div>
        <div class="cons">
            <h1>体育</h1>
            <ul>
                <li>体育1</li>
                <li>体育2</li>
                <li>体育3</li>
                <li>体育1</li>
                <li>体育2</li>
                <li>体育3</li>
            </ul>
        </div>
        <div class="cons">
            <h1>体育</h1>
            <ul>
                <li>体育1</li>
                <li>体育2</li>
                <li>体育3</li>
                <li>体育1</li>
                <li>体育2</li>
                <li>体育3</li>
            </ul>
        </div>
    </div>
</body>
<script>
    /*
        利用事件委托和动画效果实现手风琴
        1.把事件给父元素 cons 让鼠标移入h1的时候，li出现
        2.鼠标移出的时候li隐藏
    */
    // 获取节点
    (function () {
        var box = document.querySelector('#box');
        var cons = document.querySelectorAll('.cons');
        var h1s = document.querySelectorAll('.cons h1');
        var ul = document.querySelectorAll('.cons ul');

        box.onmouseover = function (ev) {
            if (ev.target.tagName == 'H1') {
                var iH = (ev.target.nextElementSibling.children.length) * ev.target.nextElementSibling.children[0].offsetHeight;
                startMove(ev.target.nextElementSibling, {
                    'height': iH
                });
            }
        }
        box.onmouseout = function (ev) {
            if (ev.target.tagName == 'H1') {
                startMove(ev.target.nextElementSibling, {
                    'height': 0
                });
            }
        }

        // box.onmouseover = function (ev) {
        //     if (ev.target.tagName == 'UL') {
        //         var iH = (ev.target.children.length) * ev.target.children[0].offsetHeight;
        //         startMove(ev.target, {
        //             'height': iH
        //         });
        //     }
        // }
        // box.onmouseout = function (ev) {
        //     if (ev.target.tagName == 'UL') {
        //         startMove(ev.target,{
        //             'height': 0
        //         });
        //     }
        // }
    })();
</script>

</html>