<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8">
	<title>手风琴效果</title>
	<style type="text/css">
		* {
			margin: 0;
			padding: 0;
		}

		li {
			list-style: none;
		}

		#box {
			margin: 50px;

		}

		#box h1 {
			width: 120px;
			height: 40px;
			line-height: 40px;
			text-align: center;
			background: lightblue;
			cursor: pointer;
			font-size: 24px;
			font-weight: lighter;
			border: 1px solid #000;
		}

		#box ul {
			height: 0;
			overflow: hidden;
			transition: all .5s;
		}

		#box ul li {
			width: 120px;
			height: 40px;
			line-height: 40px;
			text-align: center;
			background: lightcyan;
		}
	</style>

</head>

<body>
	<div id="box">
		<h1>体育</h1>
		<ul>
			<li>体育1</li>
			<li>体育2</li>
			<li>体育3</li>
			<li>体育1</li>
			<li>体育2</li>
			<li>体育3</li>
		</ul>
		<h1>新闻</h1>
		<ul>
			<li>新闻1</li>
			<li>新闻2</li>
			<li>新闻3</li>
			<li>新闻2</li>
			<li>新闻3</li>
		</ul>
		<h1>娱乐</h1>
		<ul>
			<li>娱乐1</li>
			<li>娱乐2</li>
			<li>娱乐3</li>
		</ul>
	</div>
</body>
<script>
	(function () {

		var btns = document.querySelectorAll('#box h1');//按钮组
		var cons = document.querySelectorAll('#box ul');//下拉列表组

		//循环绑定事件
		// var isok = true;//一个开关不能同时控制三组下拉效果
		for (var i = 0; i < btns.length; i++) {
			btns[i].index = i;//绑定索引
			btns[i].isok = true;//准备多组开关实现下拉菜单
			btns[i].onclick = function () {
				if (this.isok) {
					console.log(this.index);
					var iH = cons[this.index].children.length * cons[this.index].children[0].offsetHeight;
					cons[this.index].style.height = iH + 'px';
				} else {
					cons[this.index].style.height = 0;
				}
				this.isok = !this.isok;
			}
		}
	})();
</script>

</html>